Группа 2023-12

### Студент
Сергей Шелковый

Домашнее задание № 08
Работаем со сборщиком мусора G1 (-XX:+UseG1GC)

### 1. Определение нужного размера хипа
Замеряем время выполнения программы при различном выделении объема памяти:

Память: 256 Мб  Время: 37 сек
Память: 512 Мб  Время: 24 сек
Память: 768 Мб  Время: 21 сек
Память: 1024 Мб  Время: 19 сек
Память: 1536 Мб  Время: 17 сек
Память: 2048 Мб  Время: 17 сек
Память: 2584 Мб  Время: 17 сек

По мере увеличения памяти от 256 Мб до 1024 Мб наблюдаем значительный прирост в производительности
Затем ещё небольшой прирост до 1536 Мб с лучшим временем выполнения до 17 сек
При последующем добавлении памяти вплоть до 2,5 Гб скорость выполнения программы почти не меняется
Это связано с тем, что сборщик мусора очищает осовободивщиеся классы Data только после очищения ссылок,
каждые 6,6 Млн штук. 
Если посмотреть в мониторинг, то это очищение происходит примерно на уровне - 1,6 Гб, 
что подтверждает лучшее время выполнения программы на уровне выделения памяти - 1,5 Гб.

### 2. Оптимизировать работу приложения

Сборщик мусора не может очистить объекты Data в памяти, пока не очищается List коллекция.
Эта коллекция очищается каждые 6,6 млн. штук что является не оптимальным во время выполнения.
Огромное количество объектов накапливается в памяти и сборщику мусора приходится тратить много времени,
чтобы очистить занимаемую область.
Гораздо эффективнее накапливать коллекцию до 100 тыс. элементов и затем освобождать ссылки.
Это изменение никак не затрагивает логику работы программы, но зато увеличивает производительность в 3 раза
с минимальным Хипом в 256 Мб время работы программы сократилось с 37 секунд до 11 секунд.
